<!doctype html>
<html lang="en" theme="dark">
  <head>
    <meta charset="UTF-8" />
    <title>Chat App</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <style>
      .container {
        height: 100%;
        width: 100%;
      }
      .modal-backdrop { z-index: -1; }
    </style>
  <script src="https://czheyuchatapp.onrender.com/chatapp/CHATIDREPLACE/index.js"></script>
    <script>
      var chatID = CHATIDREPLACE;

    </script>
    <!--script src="https://9f385a7a-d4b2-4c35-b8fc-9937e0c39c58-00-zrl36mrg5918.picard.replit.dev:3001/chatapp/CHATIDREPLACE/index.js"></script-->

  </head>
  <body class="bg-dark" id="body">

    <!-- start of interactive chat modal-->

    <div class="modal fade" id="chat" tabindex="-1" >
      <div class="modal-dialog">
        <div class="modal-content bg-dark">
          <div class="modal-header bg-dark">
            <h1 class="modal-title fs-5 text-light" id="chatmenutitle">Chat</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div>
                <p class="text-light" id="participantsdisplay">
                </p>
              </div>
              <div class="input-group m-2">
                <input
                  type="text"
                  class="form-control "
                  id="adduser"
                  placeholder="user"
                />
                <button
                  class="btn m-1 p-1 btn-outline-light rounded"
                  type="button"
                  id="adduserbutton"
                  onclick="adduser()"
                >
                  adduser
                </button>

              </div>
              <div>
                <div class="dropdown-center">
                  <button id="userchoose" class="btn btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                    choose user
                  </button>
                  <ul id="dropdown" class="dropdown-menu">
                    <li><a class="dropdown-item" href="#">Action two</a></li>
                    <li><a class="dropdown-item" href="#">Action three</a></li>
                  </ul>
                <button
                  class="btn m-1 p-1 btn-outline-light rounded"
                  type="button"
                  id="removeuserbutton"
                  onclick="console.log('not binded')"
                >
                  removeuser
                </button>
                </div>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>

    <!-- end of interactive modal-->
    <!-- start of interactive settings modal-->

    <div class="modal fade" id="settingsmodal" tabindex="-1" >
      <div class="modal-dialog">
        <div class="modal-content bg-dark">
          <div class="modal-header bg-dark">
            <h1 class="modal-title fs-5 text-light" id="Title">Settings</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <form>
              <div class="mb-3">
                <p id="logindisplay" class="m-1 p-1 fw-light text-white">Logged in as user</p>

                <button
                  class="btn m-1 p-1 btn-outline-light rounded"
                  type="button"
                  id="logoutbutton"
                >
                  logout
                </button>

              </div>
              <div class="mb-3">
                <input type="range" min="5" max="50" value="25" class="w-auto px-1 mx-1" id="getrange">
                <p id="getrangedisplay" class="m-1 p-1 fw-light text-white">Current get cooldown: 2.5s</p>
                <div class="progress" role="progressbar">
                  <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 0%; transition: none;"></div>
                </div>
              </div>
              <div class="mb-3">
                <button
                  class="btn m-1 p-1 btn-outline-light rounded"
                  type="button"
                  id="forcescrollbutton"
                >
                  Enable force scroll
                </button>
                
              </div>
              <div class="mb-3">
                <button
                  class="btn m-1 p-1 btn-outline-light rounded"
                  type="button"
                  onclick="showdateunhover = !showdateunhover;if(showdateunhover){this.innerHTML = 'Disable Simple Date Display'}else{this.innerHTML = 'Enable Simple Date Display'}; updateChat(lastgetdata);"
                >
                  enable show simple date
                </button>
              </div>
            </form>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
    
    <!-- end of interactive modal-->


    <!-- Modal confirm -->
    <div class="modal fade" id="confirmdelete" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
      <div class="modal-dialog bg-dark">
        <div class="modal-content bg-dark">
          <div class="modal-header">
            <h1 class="modal-title fs-5 text-light" id="confirmtitle">Confirm delete</h1>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
          </div>
          <div class="modal-body">
            <h2 class="text-warning">Confirm delete:</h2>
            <div id="confirmtext" class="confirmtext"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-primary" data-bs-dismiss="modal">Close</button>
            <button type="button" data-bs-dismiss="modal" class="deletebutton btn btn-warning" onclick="console.log('delete not set');">Delete</button>
          </div>
        </div>
      </div>
    </div>
    <!--end of modal confirm-->
    <div class="sticky-top container-fluid m-0 p-0 d-flex flex-row-reverse">
      <div class="input-group mb-3 bg-dark p-2 d-flex justify-content-start border border-secondary-subtle rounded border-1">
        <div class="d-flex mb-3">
          <div class="p-2"><button type="button" onclick="window.location = url+'/chatlist'; " class="btn btn-outline-light rounded" >back</button></div>
          <div class="p-2"><p id="chatnamedisplay" class="m-1 p-1 fw-light text-white">Chat: <strong>placeholderchatname</strong></p></div>
          <div class="ms-auto p-2"><button id="userdisplay" type="button" class="btn btn-outline-light rounded" data-bs-toggle="modal" data-bs-target="#settingsmodal">user</button></div>
        </div>
      </div>
    </div>
    <div class="container-fluid">
      <div class="jumbotron">
        <div class="chat-container" id="chat-container">
          <h2 class="text-center text-light">loading...</h2>
          <h2 class="text-light">If this page does not load, either: You are not in this chat, you are logged out, or there is a internal error.</h2>

        </div>
        <div class="fixed-bottom bg-dark border border-secondary-subtle rounded border-1"">
          <div id="replydiv"  style="display: none;">
            <p id="replyp" class="m-1 p-1 fw-light text-white"></p>
              <button
                class="btn btn-outline-light"
                type="button"
                id="cancelbutton"
                onclick="cancelReply();"
              >
                cancel
              </button>          
          </div>
          <div class="input-group m-2">
            <input
              type="text"
              class="form-control "
              id="message"
              placeholder="message"
            />

            <button
              class="btn btn-outline-light"
              type="button"
              id="sendbutton"
            >
              send
            </button>
   
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
